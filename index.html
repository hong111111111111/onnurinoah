<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>사당홀리스타 플로잉</title>
    <style>
        body { font-family: -apple-system, system-ui, sans-serif; background-color: #f2f4f7; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .card { background: white; width: 90%; max-width: 360px; border-radius: 24px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); text-align: center; }
        .title { font-size: 1.3rem; font-weight: 800; color: #111; margin-bottom: 5px; }
        .subtitle { font-size: 0.9rem; color: #666; margin-bottom: 25px; }
        
        .account-info { background: #f8f9fa; border-radius: 16px; padding: 20px; margin-bottom: 20px; border: 1px solid #eee; }
        .bank { color: #008485; font-weight: bold; font-size: 0.9rem; margin-bottom: 5px; }
        .num { font-size: 1.25rem; font-weight: 700; color: #222; display: block; margin-bottom: 5px; }
        .holder { font-size: 0.95rem; color: #444; }

        .btn { width: 100%; padding: 16px; border: none; border-radius: 15px; font-size: 1rem; font-weight: 700; cursor: pointer; margin-bottom: 10px; transition: 0.2s; display: block; text-decoration: none; box-sizing: border-box; }
        .btn-copy { background: #333; color: white; }
        .btn-kakao { background: #FEE500; color: #3c1e1e; }
        .btn-toss { background: #3182f6; color: white; }
        .btn:active { transform: scale(0.98); opacity: 0.9; }

        .notice { font-size: 0.75rem; color: #999; margin-top: 15px; line-height: 1.4; }
    </style>
</head>
<body>

<div class="card">
    <div class="title">사당홀리스타 플로잉</div>
    <div class="subtitle">하나님 나라를 위한 흘려보냄</div>

    <div class="account-info">
        <div class="bank">하나은행</div>
        <div class="num" id="accNum">228-910022-13204</div>
        <div class="holder">온누리교회(사당홀리스타)</div>
    </div>

    <button class="btn btn-copy" onclick="copyAndNotice()">계좌번호 복사하기</button>
    
    <button class="btn btn-kakao" onclick="openKakao()">카카오페이 송금</button>
    
    <button class="btn btn-toss" onclick="openToss()">토스(Toss) 송금</button>

    <div class="notice">
        * 버튼 클릭 시 계좌번호가 <b>자동 복사</b>됩니다.<br>
        * 앱이 열리지 않으면 은행 앱에서 '붙여넣기' 해주세요.
    </div>
</div>

<script>
    const ACCOUNT_FULL = "하나은행 228-910022-13204";
    const ACCOUNT_RAW = "22891002213204";

    // 1. 통합 복사 함수 (가장 확실한 방법)
    function copyText(text) {
        const textArea = document.createElement("textarea");
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.select();
        try {
            document.execCommand('copy');
        } catch (err) {
            console.error('복사 실패', err);
        }
        document.body.removeChild(textArea);
    }

    function copyAndNotice() {
        copyText(ACCOUNT_FULL);
        alert("계좌번호가 복사되었습니다!");
    }

    // 2. 카카오페이 실행
    function openKakao() {
        copyText(ACCOUNT_RAW); // 일단 복사부터 시킴
        
        // 카카오페이 송금 직접 호출 주소
        const kakaoUrl = `kakaotalk://kakaopay/money/to/qr?bank_code=081&account_number=${ACCOUNT_RAW}`;
        
        location.href = kakaoUrl;

        // 카톡 내부 브라우저에서 먹통일 때를 위한 팝업
        setTimeout(() => {
            if(confirm("카카오톡 송금창이 열렸나요?\n\n안 열린다면 카톡 '더보기 > 결제' 혹은 '송금' 메뉴에서 복사한 계좌를 붙여넣어 주세요.")) {
                // 확인 누르면 아무것도 안함
            }
        }, 2500);
    }

    // 3. 토스 실행
    function openToss() {
        copyText(ACCOUNT_RAW);
        const tossUrl = `supertoss://send?bank=하나&accountNo=${ACCOUNT_RAW}`;
        location.href = tossUrl;
    }
</script>

</body>
</html>
